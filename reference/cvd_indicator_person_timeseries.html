<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Retrieve inequality time series data for a specific indicator and area — cvd_indicator_person_timeseries • cvdprevent</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieve inequality time series data for a specific indicator and area — cvd_indicator_person_timeseries"><meta name="description" content="Returns a tibble containing time series data for a specified indicator and NHS area, broken down by inequality markers such as age group, ethnicity, deprivation quintile, and sex. This function supports the Inequalities Markers Time Series chart used in CVDPREVENT reporting."><meta property="og:description" content="Returns a tibble containing time series data for a specified indicator and NHS area, broken down by inequality markers such as age group, ethnicity, deprivation quintile, and sex. This function supports the Inequalities Markers Time Series chart used in CVDPREVENT reporting."><meta property="og:image" content="https://craig-parylo.github.io/cvdprevent/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cvdprevent</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using_cvdprevent.html">Using CVD Prevent</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/craig-parylo/cvdprevent/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Retrieve inequality time series data for a specific indicator and area</h1>
      <small class="dont-index">Source: <a href="https://github.com/craig-parylo/cvdprevent/blob/v0.2.3/R/cvd_api_functions.R" class="external-link"><code>R/cvd_api_functions.R</code></a></small>
      <div class="d-none name"><code>cvd_indicator_person_timeseries.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns a tibble containing time series data for a specified indicator and NHS area, broken down by inequality markers such as age group, ethnicity, deprivation quintile, and sex. This function supports the Inequalities Markers Time Series chart used in CVDPREVENT reporting.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cvd_indicator_person_timeseries</span><span class="op">(</span><span class="va">indicator_id</span>, <span class="va">area_id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-indicator-id">indicator_id<a class="anchor" aria-label="anchor" href="#arg-indicator-id"></a></dt>
<dd><p>Integer (required). The ID of the indicator to retrieve. Use <code><a href="cvd_indicator_list.html">cvd_indicator_list()</a></code> or <code><a href="cvd_indicator_priority_groups.html">cvd_indicator_priority_groups()</a></code> to find valid IDs.</p></dd>


<dt id="arg-area-id">area_id<a class="anchor" aria-label="anchor" href="#arg-area-id"></a></dt>
<dd><p>Integer (required). The ID of the NHS area to retrieve data for. Use <code><a href="cvd_area_list.html">cvd_area_list()</a></code> or <code><a href="cvd_area_search.html">cvd_area_search()</a></code> to find valid IDs.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble where each row represents a time period for a specific NHS area and inequality subgroup.
Columns include:</p><dl><dt>AreaCode</dt>
<dd><p>Character. Code for the NHS area (e.g., "U60510" for a PCN).</p></dd>

<dt>AreaID</dt>
<dd><p>Integer. Unique identifier for the NHS area.</p></dd>

<dt>AreaName</dt>
<dd><p>Character. Name of the NHS area (e.g., "Salford South East PCN").</p></dd>

<dt>MetricCategoryID</dt>
<dd><p>Integer. Unique identifier for the subgroup category (e.g., age band, ethnicity).</p></dd>

<dt>MetricCategoryName</dt>
<dd><p>Character. Label for the subgroup (e.g., "Female", "80+", "White").</p></dd>

<dt>TimePeriodID</dt>
<dd><p>Integer. Identifier for the reporting period.</p></dd>

<dt>TimePeriodName</dt>
<dd><p>Character. Display label for the time period (e.g., "To March 2025").</p></dd>

<dt>Value</dt>
<dd><p>Numeric. Final calculated value for the metric in the given subgroup and time period. May be blank if unavailable.</p></dd>

<dt>MetricCategoryTypeID</dt>
<dd><p>Integer. Identifier for the type of inequality marker (e.g., 1 = Age group, 3 = Ethnicity).</p></dd>

<dt>MetricCategoryTypeName</dt>
<dd><p>Character. Descriptive name of the inequality marker type (e.g., "Sex", "Age group", "Ethnicity").</p></dd>

<dt>TargetLabel</dt>
<dd><p>Character. Descriptive label for the target threshold (e.g., "Upper threshold for QOF").</p></dd>

<dt>TargetValue</dt>
<dd><p>Numeric. Target value to be achieved (e.g., 95).</p></dd>


</dl><p>If no data is available for the given parameters, a tibble describing the error is returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The output includes:</p><ul><li><p>Time series values for each subgroup within the selected indicator</p></li>
<li><p>Target thresholds (if defined) for benchmarking</p></li>
<li><p>Metric category metadata (e.g., "Age group", "Ethnicity")</p></li>
</ul><p>This function is useful for:</p><ul><li><p>Analysing disparities in indicator performance across population subgroups</p></li>
<li><p>Tracking progress toward clinical targets over time</p></li>
<li><p>Supporting equity-focused reporting and visualisation</p></li>
</ul><p>To find valid <code>indicator_id</code> values, use <code><a href="cvd_indicator_list.html">cvd_indicator_list()</a></code> or <code><a href="cvd_indicator_priority_groups.html">cvd_indicator_priority_groups()</a></code>.
For valid <code>area_id</code> values, use <code><a href="cvd_area_list.html">cvd_area_list()</a></code> or <code><a href="cvd_area_search.html">cvd_area_search()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="api-documentation">API Documentation<a class="anchor" aria-label="anchor" href="#api-documentation"></a></h2>


<p>See the <a href="https://bmchealthdocs.atlassian.net/wiki/spaces/CP/pages/317882369/CVDPREVENT+API+Documentation#%2Findicator%2FpersonsTimeSeriesByIndicator%2F%3Cindicator_ID%3E" class="external-link">CVDPREVENT API documentation: Indicator person time series</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cvd_indicator_list.html">cvd_indicator_list()</a></code> to browse indicators,
<code><a href="cvd_indicator_priority_groups.html">cvd_indicator_priority_groups()</a></code> to explore indicator groupings,
<code><a href="cvd_area_list.html">cvd_area_list()</a></code> and <code><a href="cvd_area_search.html">cvd_area_search()</a></code> to find valid area IDs,
<code><a href="cvd_indicator_metric_timeseries.html">cvd_indicator_metric_timeseries()</a></code> for overall time series data,
<code><a href="cvd_indicator_metric_area_breakdown.html">cvd_indicator_metric_area_breakdown()</a></code> for area-level comparisons</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># View age group inequalities for indicator ID 7 in Salford South East PCN (area ID 705)</span></span></span>
<span class="r-in"><span><span class="fu">cvd_indicator_person_timeseries</span><span class="op">(</span>indicator_id <span class="op">=</span> <span class="fl">7</span>, area_id <span class="op">=</span> <span class="fl">705</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">MetricCategoryTypeName</span> <span class="op">==</span> <span class="st">"Age group"</span>,</span></span>
<span class="r-in"><span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Value</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">MetricCategoryName</span>, <span class="va">TimePeriodName</span>, <span class="va">TimePeriodID</span>, <span class="va">Value</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    names_from <span class="op">=</span> <span class="va">MetricCategoryName</span>,</span></span>
<span class="r-in"><span>    values_from <span class="op">=</span> <span class="va">Value</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 16 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    TimePeriodName    TimePeriodID `40-59` `60-79` `80+`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> To March 2020                1    78.3    82.3  85  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> To March 2021                2    91.3    82.3  84.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> To September 2021            3    78      86.9  87.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> To March 2022                4    76.6    86.8  90.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> To June 2022                 5    82.4    86.8  88.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> To September 2022            6    80      86.6  90.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> To December 2022             7    76.3    87.5  90.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> To March 2023                8    72.7    87.4  91.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> To June 2023                 9    71.1    88.5  91.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> To December 2023            15    74.4    88.9  90.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> To March 2024               17    80.5    91.5  92.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> To June 2024                18    82.9    91.6  92.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> To September 2024           20    80.4    91.6  91.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> To December 2024            22    85.7    91.4  91.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> To March 2025               24    85.7    93.3  91.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span> To June 2025                26    85.7    92.9  92.2</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Craig Parylo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

