<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Retrieve raw metric values for multiple metrics, a specified area and time period — cvd_indicator_raw_data • cvdprevent</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieve raw metric values for multiple metrics, a specified area and time period — cvd_indicator_raw_data"><meta name="description" content="Returns raw values for multiple metrics within an indicator (specified as indicator_id) for a single NHS system level and reporting period using the CVDPREVENT API. This function fetches unfiltered raw data at the metric level, allowing comprehensive extraction for all selected metrics and their available breakdowns (such as by age, sex or other category) within the chosen context."><meta property="og:description" content="Returns raw values for multiple metrics within an indicator (specified as indicator_id) for a single NHS system level and reporting period using the CVDPREVENT API. This function fetches unfiltered raw data at the metric level, allowing comprehensive extraction for all selected metrics and their available breakdowns (such as by age, sex or other category) within the chosen context."><meta property="og:image" content="https://craig-parylo.github.io/cvdprevent/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cvdprevent</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using_cvdprevent.html">Using CVD Prevent</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/craig-parylo/cvdprevent/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Retrieve raw metric values for multiple metrics, a specified area and time period</h1>
      <small class="dont-index">Source: <a href="https://github.com/craig-parylo/cvdprevent/blob/main/R/cvd_api_functions.R" class="external-link"><code>R/cvd_api_functions.R</code></a></small>
      <div class="d-none name"><code>cvd_indicator_raw_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns raw values for multiple metrics within an indicator (specified as <code>indicator_id</code>) for a single NHS system level and reporting period using the CVDPREVENT API. This function fetches unfiltered raw data at the metric level, allowing comprehensive extraction for all selected metrics and their available breakdowns (such as by age, sex or other category) within the chosen context.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cvd_indicator_raw_data</span><span class="op">(</span><span class="va">time_period_id</span>, <span class="va">system_level_id</span>, <span class="va">indicator_id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-time-period-id">time_period_id<a class="anchor" aria-label="anchor" href="#arg-time-period-id"></a></dt>
<dd><p>Integer (required). The reporting period (time period) for which to retrieve data. Use <code><a href="cvd_time_period_system_levels.html">cvd_time_period_system_levels()</a></code> to find valid IDs.</p></dd>


<dt id="arg-system-level-id">system_level_id<a class="anchor" aria-label="anchor" href="#arg-system-level-id"></a></dt>
<dd><p>Integer (required). The SystemLevelID for which to retrieve data. Use <code><a href="cvd_time_period_system_levels.html">cvd_time_period_system_levels()</a></code> to find valid IDs.</p></dd>


<dt id="arg-indicator-id">indicator_id<a class="anchor" aria-label="anchor" href="#arg-indicator-id"></a></dt>
<dd><p>Integer vector (required). One or more IndicatorIDs specifying which indicator and its associated metrics to return. Use <code><a href="cvd_indicator_list.html">cvd_indicator_list()</a></code> to find valid IndicatorIDs.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with one row per metric breakdown for all requested metrics. The tibble has the following columns:</p><dl><dt>AreaCode</dt>
<dd><p>Character. ONS geographic code for the area (e.g., "E92000001" for England).</p></dd>

<dt>AreaName</dt>
<dd><p>Character. Name of the geographic area.</p></dd>

<dt>CategoryAttribute</dt>
<dd><p>Character. Subgroup label (e.g., "Male", "Female", "Persons").</p></dd>

<dt>Denominator</dt>
<dd><p>Numeric. Population or count used as the denominator in metric calculation.</p></dd>

<dt>Factor</dt>
<dd><p>Numeric. Scaling factor applied to the metric, if applicable. May be NA.</p></dd>

<dt>HighestPriorityNotificationType</dt>
<dd><p>Character. Notification priority level, if available. Often NA.</p></dd>

<dt>IndicatorCode</dt>
<dd><p>Character. Unique code for the indicator (e.g., "CVDP002AF").</p></dd>

<dt>IndicatorName</dt>
<dd><p>Character. Full descriptive name of the indicator.</p></dd>

<dt>IndicatorShortName</dt>
<dd><p>Character. Abbreviated name of the indicator.</p></dd>

<dt>LowerConfidenceLimit</dt>
<dd><p>Numeric. Lower bound of the confidence interval for the metric value.</p></dd>

<dt>MetricCategoryName</dt>
<dd><p>Character. Name of the subgroup or category (e.g., "40–59", "Female").</p></dd>

<dt>MetricCategoryTypeName</dt>
<dd><p>Character. Type of subgroup (e.g., "Age group", "Sex", "Ethnicity").</p></dd>

<dt>NotificationCount</dt>
<dd><p>Integer. Count of notifications associated with the indicator. Often zero.</p></dd>

<dt>Numerator</dt>
<dd><p>Numeric. Count used as the numerator in metric calculation.</p></dd>

<dt>TimePeriodName</dt>
<dd><p>Character. Label for the time period (e.g., "To December 2024").</p></dd>

<dt>UpperConfidenceLimit</dt>
<dd><p>Numeric. Upper bound of the confidence interval for the metric value.</p></dd>

<dt>Value</dt>
<dd><p>Numeric. Calculated metric value (e.g., percentage of patients treated).</p></dd>

<dt>ValueNote</dt>
<dd><p>Character. Additional notes or flags about the value. Often NA.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Use this function to retrieve a wide set of metric breakdowns for a given indicator in a single area and time period - useful for broad data extractions, dashboards or advanced analytics.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This function may take longer than 5 seconds to complete due to API response time.</p>
    </div>
    <div class="section level2">
    <h2 id="api-documentation">API Documentation<a class="anchor" aria-label="anchor" href="#api-documentation"></a></h2>


<p>See the <a href="https://bmchealthdocs.atlassian.net/wiki/spaces/CP/pages/317882369/CVDPREVENT+API+Documentation#%2Findicator%2F%3Cindicator_ID%3E%2FrawDataJSON" class="external-link">CVDPREVENT API documentation: Indicator raw data</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Retrieve metric data for 'CVD: All-cause mortality' (IndicatorID = 35) across</span></span></span>
<span class="r-in"><span><span class="co"># NHS Regions (SystemLevelID = 6) in the period April 2024 to</span></span></span>
<span class="r-in"><span><span class="co"># March 2025 (TimePeriodID = 27) and view a sample of 4 rows:</span></span></span>
<span class="r-in"><span><span class="fu">cvd_indicator_raw_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>  time_period_id <span class="op">=</span> <span class="fl">27</span>,</span></span>
<span class="r-in"><span>  system_level_id <span class="op">=</span> <span class="fl">6</span>,</span></span>
<span class="r-in"><span>  indicator_id <span class="op">=</span> <span class="fl">35</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AreaCode  AreaName CategoryAttribute Denominator Factor HighestPriorityNotif…¹</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> E40000006 South W… Persons                 <span style="text-decoration: underline;">79</span>430 <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> E40000007 East of… Persons                <span style="text-decoration: underline;">369</span>405 <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> E40000010 North W… Persons                  <span style="text-decoration: underline;">4</span>250 <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> E40000011 Midlands Persons                <span style="text-decoration: underline;">148</span>330 <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ abbreviated name: ¹​HighestPriorityNotificationType</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 12 more variables: IndicatorCode &lt;chr&gt;, IndicatorName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   IndicatorShortName &lt;chr&gt;, LowerConfidenceLimit &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   MetricCategoryName &lt;chr&gt;, MetricCategoryTypeName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   NotificationCount &lt;int&gt;, Numerator &lt;dbl&gt;, TimePeriodName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   UpperConfidenceLimit &lt;dbl&gt;, Value &lt;dbl&gt;, ValueNote &lt;lgl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Find a valid indicator IDs for a specified time period and system level,</span></span></span>
<span class="r-in"><span><span class="co"># then retrieve raw data for one of these</span></span></span>
<span class="r-in"><span><span class="va">indicators</span> <span class="op">&lt;-</span> <span class="fu"><a href="cvd_indicator_list.html">cvd_indicator_list</a></span><span class="op">(</span>time_period_id <span class="op">=</span> <span class="fl">22</span>, system_level_id <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cvd_indicator_raw_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>  time_period_id <span class="op">=</span> <span class="fl">22</span>,</span></span>
<span class="r-in"><span>  system_level_id <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  indicator_id <span class="op">=</span> <span class="va">indicators</span><span class="op">$</span><span class="va">IndicatorID</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 24,349 × 18</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    AreaCode AreaName CategoryAttribute Denominator Factor HighestPriorityNotif…¹</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> U60176   3 Centr… Persons                  <span style="text-decoration: underline;">6</span>080 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> U60176   3 Centr… Female                   <span style="text-decoration: underline;">2</span>880 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> U60176   3 Centr… Male                     <span style="text-decoration: underline;">3</span>200 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> U60176   3 Centr… Male                      105 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> U60176   3 Centr… Female                     80 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> U60176   3 Centr… Persons                   185 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> U60176   3 Centr… Male                     <span style="text-decoration: underline;">1</span>110 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> U60176   3 Centr… Female                    905 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> U60176   3 Centr… Persons                  <span style="text-decoration: underline;">2</span>015 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> U60176   3 Centr… Male                     <span style="text-decoration: underline;">1</span>985 <span style="color: #BB0000;">NA</span>     Red                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 24,339 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ abbreviated name: ¹​HighestPriorityNotificationType</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 12 more variables: IndicatorCode &lt;chr&gt;, IndicatorName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   IndicatorShortName &lt;chr&gt;, LowerConfidenceLimit &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   MetricCategoryName &lt;chr&gt;, MetricCategoryTypeName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   NotificationCount &lt;int&gt;, Numerator &lt;dbl&gt;, TimePeriodName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   UpperConfidenceLimit &lt;dbl&gt;, Value &lt;dbl&gt;, ValueNote &lt;chr&gt;</span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Craig Parylo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

