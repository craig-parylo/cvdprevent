<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>List indicators and associated metrics for a system level and time period — cvd_indicator_metric_list • cvdprevent</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="List indicators and associated metrics for a system level and time period — cvd_indicator_metric_list"><meta name="description" content="Retrieves all CVD indicators available for a given reporting period and given system level from the CVDPREVENT API, with an expanded view that includes 'MetricList' array for each indicator. This allows you to see not only which indicators are available, but also the specific metrics (e.g., breakdowns by age, sex or other attributes) associated with each indicator in the selected context.
Only indicators with available data for the specified time period and system level are returned. This function is useful for determining what granular metric breakdowns are provided for each indicator."><meta property="og:description" content="Retrieves all CVD indicators available for a given reporting period and given system level from the CVDPREVENT API, with an expanded view that includes 'MetricList' array for each indicator. This allows you to see not only which indicators are available, but also the specific metrics (e.g., breakdowns by age, sex or other attributes) associated with each indicator in the selected context.
Only indicators with available data for the specified time period and system level are returned. This function is useful for determining what granular metric breakdowns are provided for each indicator."><meta property="og:image" content="https://craig-parylo.github.io/cvdprevent/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cvdprevent</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using_cvdprevent.html">Using CVD Prevent</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/craig-parylo/cvdprevent/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>List indicators and associated metrics for a system level and time period</h1>
      <small class="dont-index">Source: <a href="https://github.com/craig-parylo/cvdprevent/blob/main/R/cvd_api_functions.R" class="external-link"><code>R/cvd_api_functions.R</code></a></small>
      <div class="d-none name"><code>cvd_indicator_metric_list.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieves all CVD indicators available for a given reporting period and given system level from the CVDPREVENT API, with an expanded view that includes 'MetricList' array for each indicator. This allows you to see not only which indicators are available, but also the specific metrics (e.g., breakdowns by age, sex or other attributes) associated with each indicator in the selected context.</p>
<p>Only indicators with available data for the specified time period and system level are returned. This function is useful for determining what granular metric breakdowns are provided for each indicator.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cvd_indicator_metric_list</span><span class="op">(</span><span class="va">time_period_id</span>, <span class="va">system_level_id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-time-period-id">time_period_id<a class="anchor" aria-label="anchor" href="#arg-time-period-id"></a></dt>
<dd><p>Integer (required). The reporting period (time period) for which to return indicators and metrics. use <code><a href="cvd_time_period_list.html">cvd_time_period_list()</a></code> to find valid IDs.</p></dd>


<dt id="arg-system-level-id">system_level_id<a class="anchor" aria-label="anchor" href="#arg-system-level-id"></a></dt>
<dd><p>Integer (required). The system level (e.g., National, Region, ICB, PCN, Practice) for which to return indicators and metrics. Use <code><a href="cvd_area_system_level.html">cvd_area_system_level()</a></code> to find valid IDs for a given time period.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble containing one row for each indicator-metric pair avialable for the specified system level and time period. Columns typically include:</p><dl><dt>AxisCharacter</dt>
<dd><p>Character. Symbol used to represent the metric axis (e.g., "%").</p></dd>

<dt>FormatDisplayName</dt>
<dd><p>Character. Display format for the metric (e.g., "Proportion %").</p></dd>

<dt>HighestPriorityNotificationType</dt>
<dd><p>Character. Notification priority level, if applicable (e.g., "Red"). Often blank.</p></dd>

<dt>IndicatorCode</dt>
<dd><p>Character. Unique code for the indicator (e.g., "CVDP002SMOK").</p></dd>

<dt>IndicatorFormatID</dt>
<dd><p>Integer. Internal ID for the indicator's format type.</p></dd>

<dt>IndicatorID</dt>
<dd><p>Integer. Unique identifier for the indicator.</p></dd>

<dt>IndicatorName</dt>
<dd><p>Character. Full descriptive name of the indicator.</p></dd>

<dt>IndicatorOrder</dt>
<dd><p>Integer. Display order for the indicator in dashboards or reports.</p></dd>

<dt>IndicatorShortName</dt>
<dd><p>Character. Abbreviated name of the indicator for display purposes.</p></dd>

<dt>NotificationCount</dt>
<dd><p>Integer. Count of notifications associated with the indicator.</p></dd>

<dt>CategoryAttribute</dt>
<dd><p>Character. Label used to group individuals (e.g., "Male", "Persons").</p></dd>

<dt>MetricCategoryName</dt>
<dd><p>Character. Name of the subgroup or category (e.g., "40–59", "Mixed").</p></dd>

<dt>MetricCategoryTypeName</dt>
<dd><p>Character. Type of subgroup (e.g., "Age group", "Sex", "Ethnicity").</p></dd>

<dt>MetricID</dt>
<dd><p>Integer. Unique identifier for the specific metric being measured.</p></dd>


</dl><p>If no indicators or metrics are found returns a tibble describing the error.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Use this function to explore the detailed metric breakdowns available for each indicator before performing data extraction or analysis. The <code>MetricList</code> column is unnested for convenience, so each row represents a single metric linked to an indicator.</p>
    </div>
    <div class="section level2">
    <h2 id="api-documentation">API Documentation<a class="anchor" aria-label="anchor" href="#api-documentation"></a></h2>


<p>See the <a href="https://bmchealthdocs.atlassian.net/wiki/spaces/CP/pages/317882369/CVDPREVENT+API+Documentation#*Proposed*%2Findicator%2FmetricList" class="external-link">CVDPREVENT API documentation: Indicator metric list</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># List metrics for the prevalence of atrial fibrillation (indicator ID 1),</span></span></span>
<span class="r-in"><span><span class="co"># focusing on metrics for the 40-59 years age group at the national level:</span></span></span>
<span class="r-in"><span><span class="fu">cvd_indicator_metric_list</span><span class="op">(</span>time_period_id <span class="op">=</span> <span class="fl">17</span>, system_level_id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">IndicatorID</span> <span class="op">==</span> <span class="fl">1</span>, <span class="va">MetricCategoryName</span> <span class="op">==</span> <span class="st">"40-59"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">IndicatorID</span>, <span class="va">IndicatorShortName</span>, <span class="va">MetricID</span>, <span class="va">MetricCategoryName</span>, <span class="va">CategoryAttribute</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">n</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   IndicatorID IndicatorShortName   MetricID MetricCategoryName CategoryAttribute</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>           1 AF: Prevalence (CVD…      173 40-59              Female           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>           1 AF: Prevalence (CVD…      175 40-59              Male             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>           1 AF: Prevalence (CVD…      187 40-59              Persons          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get all indicator-metric pairs for GP practice level (system level 5) in a given period</span></span></span>
<span class="r-in"><span><span class="fu">cvd_indicator_metric_list</span><span class="op">(</span>time_period_id <span class="op">=</span> <span class="fl">17</span>, system_level_id <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 32 × 14</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    AxisCharacter FormatDisplayName HighestPriorityNotificationType IndicatorCode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP002CKD   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP005HYP   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP010CHOL  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP001SMOK  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP002NDH   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP009HYP   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP002AF    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP003CKD   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP002SMOK  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> %             Proportion %      <span style="color: #BB0000;">NA</span>                              CVDP003DM    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 22 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 10 more variables: IndicatorFormatID &lt;int&gt;, IndicatorID &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   IndicatorName &lt;chr&gt;, IndicatorOrder &lt;int&gt;, IndicatorShortName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   NotificationCount &lt;int&gt;, CategoryAttribute &lt;chr&gt;, MetricCategoryName &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   MetricCategoryTypeName &lt;chr&gt;, MetricID &lt;int&gt;</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Craig Parylo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

