% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cvd_api_functions.R
\name{cvd_indicator_nationalarea_metric_data}
\alias{cvd_indicator_nationalarea_metric_data}
\title{Retrieve metric data for a specific area and for national (England) comparison}
\usage{
cvd_indicator_nationalarea_metric_data(time_period_id, area_id, metric_id)
}
\arguments{
\item{time_period_id}{Integer (required). The reporting period (time period) for which to retrieve metric data. Use \code{\link[=cvd_time_period_list]{cvd_time_period_list()}} to find valid IDs.}

\item{area_id}{Integer (required). The AreaID for which to retrieve data in addition to the national aggregate. use \code{\link[=cvd_area_list]{cvd_area_list()}} or \code{\link[=cvd_area_search]{cvd_area_search()}} to find valid IDs.}

\item{metric_id}{Integer (required). The MetricID for which to retrieve values. Use \code{\link[=cvd_indicator_metric_list]{cvd_indicator_metric_list()}} or \code{\link[=cvd_indicator_data]{cvd_indicator_data()}} to find valid MetricIDs.}
}
\value{
A named list with up to two tibbles:
\describe{
\item{area}{Tibble with one or more rows, summarising the metric for the specified area and the England aggregate (AreaID = 1). Typical columns include \code{AreaID}, \code{AreaName}, \code{MetricID}, \code{Value}, \code{Numerator}, \code{Denominator}, \code{LowerConfidenceLimit}, \code{UpperConfidenceLimit}, \code{MetricCategoryName}, \code{CategoryAttribute}, etc.}
\item{target}{Tibble (if available) with target-setting details for the area, including columns such as: \code{TargetValue} (target as a percentage up to 100, integer), and \code{TargetPatients} (number of additional patients required to reach the target).}
}
If no data exists for both the area and the national aggregate for the given parameters, returns a tibble describing the error.
}
\description{
Returns a named list of tibbles containing: (1) metric data for the specified NHS area and the national (England, AreaID = 1) aggregate, and (2) details achieving the target value (if defined), including the target percentage and the additional number of patients needed to reach the target. This function supports benchmarking local performance vs. the national average, and helps quantify gaps to clinical targets.

If there is no data for either national or the chosen area for the given parameters, an error tibble is returned.
}
\details{
Use this function to benchmark a local area's metric value against the national figure and to understand the actual gap to a clinically meaningful target.
}
\section{API Documentation}{

See the \href{https://bmchealthdocs.atlassian.net/wiki/spaces/CP/pages/317882369/CVDPREVENT+API+Documentation#\%2Findicator\%2FnationalAreaMetricData}{CVDPREVENT API documentation: Indicator national area metric data}
}

\examples{
# Compare performance against metric 150  (AF: treatment with anticoagulants
# - all people) in 'Chester South PCN' (area ID 553) with national
# performance:
return_list <- cvd_indicator_nationalarea_metric_data(
    metric_id = 150,
    time_period_id = 17,
    area_id = 553
)

# See what the list contains
return_list |> summary()

# Extract the `area` details
area_data <- return_list$area
area_data

# Extract `target` details
target_data <- return_list$target
target_data

}
\seealso{
\code{\link[=cvd_indicator_list]{cvd_indicator_list()}}, \code{\link[=cvd_indicator_metric_list]{cvd_indicator_metric_list()}}, \code{\link[=cvd_indicator_metric_data]{cvd_indicator_metric_data()}}, \code{\link[=cvd_indicator_data]{cvd_indicator_data()}}, \code{\link[=cvd_indicator_raw_data]{cvd_indicator_raw_data()}}, \code{\link[=cvd_area_list]{cvd_area_list()}}
}
